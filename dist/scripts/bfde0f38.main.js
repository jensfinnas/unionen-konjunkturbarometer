var d,_tt;!function(){"use strict";function a(a){return a.replace(/\s/g,"-").replace(/[åä]/gi,"a").replace(/[ö]/gi,"o").toLowerCase()}function b(a){var b=$("#konjunkturbarometern-template").html(),c=Handlebars.compile(b),d=c(a);$(".container").html(d)}function c(b){return b=b.map(function(b){return b.id=a(b.name),b.subgroups.map(function(b){return b.id=a(b.name),b}),b})}function d(a,d){console.log(a),_tt=d;var e=a.Nyckeltal.elements[0];delete a.Nyckeltal,f.industry=d3.entries(a).map(function(a){return a.name=a.key,a.subgroups=a.value.column_names.map(function(b){var c=a.value.elements.map(function(a){return{date:a.datum,value:a[b]}});return{name:e[b],values:c}}).filter(function(a){return"undefined"!=typeof a.name}),delete a.key,delete a.value,a}),f.category=d.sheets(d.model_names[0]).column_names.map(function(b){{var c=d3.entries(a).map(function(c){var d=a[c.key].elements.map(function(a){return{date:a.datum,value:a[b]}});return{name:c.key,values:d}});e[b]}return{name:categoryName(b),subgroups:c}}).filter(function(a){return"undefined"!=typeof a.name}),f.category=c(f.category),f.industry=c(f.industry),b(f.industry)}var e="1JGCoMlEqUaspT-S_7UK-lVK8JfzHItdHyUQO_LYdFus",f={};$(document).ready(function(){Tabletop.init({key:e,callback:d,proxy:"https://s3-eu-west-1.amazonaws.com/tabletop-proxy/unionen-konjunkturbarometern-stage/",debug:!0})})}();